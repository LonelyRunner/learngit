<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>......</title>
    <script type="text/javascript">
//        var st = function(){
//            return {
//                st1: function(date){
//                    var d = date;
//                    if(typeof d === "string"){
//                        d = new Date(date);
//                    }
//                    return d.getFullYear();
//                },
//                st2: function(date){
//                    var d = date;
//                    if(typeof d === "string"){
//                        d = new Date(date);
//                    }
//                    return d.getMonth()+1;
//                },
//                st3: function(date){
//                    var d = date;
//                    if(typeof d === "string"){
//                        d = new Date(date);
//                    }
//                    return d.getDate();
//                }
//            }
//        }();
//        var year = st.st1(new Date());
//        console.info(year);

        /** 匿名函数  这里创建了一个匿名函数(在第一个括号内)，第二个括号用于调用该匿名函数，并传入参数。*/
//        var x = (function(a,b){
//            alert(a+b);
//        })(2,3);

        /** 闭包：说白了就是函数的嵌套 内层函数可以使用外层函数的所有变量 即使外层函数已经执行完毕 */

        //********************************example1*******************************************//
//        function closure(){
//            var str = "rain-man";
//            setTimeout(function(){  //这就是一个匿名函数
//                alert(str);
//            },2000);
//        }
//        closure();

        /** 闭包允许内层函数调用外层函数的变量，但是该变量是最终值 */
        var lists = document.getElementsByTagName('li');
            for(var i = 0 , len = lists.length ; i < len ; i++){
                lists[ i ].onmouseover = function(){
                    alert(i);
            };
        }

        /** abc +d+ xyz  循环引用 */
                /** example1 */
        var a = {};
        a.pro = {a:100};
        a.pro.pro = {b:100};
        console.info(a);
        a = null;
        console.info(a);
                /** example2 */
        var obj = {};
        obj.pro = {a:100};
        obj.pro.pro = {b:100};
        var two = obj.pro.pro;
        var obj = null;  //-------obj.pro会被释放 但是obj.pro.pro不会被释放 ------//
        console.info(two);
    </script>
</head>
<body>
    <ul>
        <li>one</li>
        <li>two</li>
        <li>three</li>
        <li>one</li>
    </ul>
</body>
</html>